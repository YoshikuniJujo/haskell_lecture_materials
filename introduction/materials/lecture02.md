第2回 HHKBに慣れよう
========================

はじめに
--------

この回の内容は「キーボードの操作」である。
手を動かすことで講義内容が身につくと考えられるが、
そのためには、まずは講義用の環境に慣れてもらうと効率的である。

導入では何を学ぶか
------------------

* 講義で使うキーボードの使いかた
* vimエディタの使いかた
* シェル(コマンドプロンプト)の使いかた
* Haskellの対話環境の使いかた

(注) この講義では以下の3つをほぼ同じ意味に用いる

* シェル
* ターミナル
* コマンドプロンプト

キーボード
----------

今回用意したキーボードはHappy Hacking Keyboard (HHKB)の英語配列である。
不必要なキーを極力排除したシンプルでコンパクトなキーボードである。
そのため、入力のしかたにすこし癖がある。
また、英語配列なので、日本語配列に慣れていると、すこしとまどうかもしれない。

vimエディタのなかでHHKBの操作を学ぶ。
キーの位置についてざっと紹介する。
もちろん、この回で全部覚える必要はない。

エディタ
--------

### 今回用意したエディタ

今回用意したエディタは以下の3つである。

    nano, vim, emacs

この3つから選んでもらうことになる。
nanoやemacsを選ぶ人は、いつものように編集してください。

どれも使ったことがないという人はvimを選ぼう。

### vim

vimのなかでHHKBの操作について学んでいく。
デスクトップに左右2つのターミナルがあると思う。
どちらかに以下のように打ち込もう。

    % vim practice.txt

'%'はシェルのプロンプトなので打ち込まないで良い。
入力例において'%'ではじめた場合はシェルからの入力を示している。

vimが立ち上がったら、
とりあえず'i'を入力し挿入モードにしておこう。
「挿入モード」については後で説明するのでご安心を。

バックスペース
--------------

### Fn + Delete

HHKBにはバックスペースキーがない。
バックスペースを入力したいときには以下のようにする。

    Fn + Delete

やってみよう。
エディタに適当な文字、たとえば以下を入力する。

    miss

ここでFn + Deleteを4回入力してみよう。
文字列が消えたはずだ。

### Control + h

バックスペースの入力には実はもっとお勧めの方法がある。
以下のキーストロークで入力可能だ。

    Control + h

HHKBではControlキーが左手小指のすぐ左にあるので、
ほぼホームポジションのままで入力できる。

やってみよう。
エディタに適当な文字列、たとえば以下を入力する。

    machigaeta

ここでControl + hを10回入力してみよう。
文字列が消えたはずだ。

記号
----

### はじめに

今回用意したのは英語配列キーボードなので、
記号の位置が日本語配列とは異なる。

以下の記号の位置について学んでいこう。

    = + - * / ^ ~ ; : ' "
    \ @ & | ( ) _ [ ] { }

### =

まずは=の位置を学ぼう。

1234567890と打ってみよう。
さらに0を打った右手小指を右にずらしながら入力を続ける。

    1234567890右へ右へ右へ右へ

もう一度くりかえす。

    1234567890右へ右へ右へ右へ

以下のように入力されたはずだ。

    1234567890-=\`1234567890-=\`

=を入力するには以下のようにする。

    0の右の右のキーを押す

### 改行

エンターキーで改行しておこう。
エンターキーは右手小指を2こ右へずらすとある。

今後は「次」の練習に行く前に必ずエンターを押すことにしよう。

### +

 +の入力を見てみよう。

Shiftキーを押しながら1234567890-=\`を入力する。

    1234567890右へ右へ右へ

もう一度くりかえす。

    1234567890右へ右へ右へ

以下のように入力されたはずだ。

    !@#$%^&*()_+|~!@#$%^&*()_+|~

 +を入力するときには以下のようにすれば良い。

    Shift + =

### =と+の練習

=と+の練習をしてみよう。
以下のように打ち込む。

    ===+++===
    =+=+=+=+=
    x+=1
    1+1=2
    2+2=4
    4+4=8
    1+1+1=3

### -

 -の位置を学ぶ。
以下のように打ち込もう。

    1234567890-=\`1234567890-=\`

 -は0のひとつ右にあることがわかる。

以下の練習をしよう。

    1-1+1=1
    12-5=7
    090-0110-1001
    good-bye
    -- single-line comment

### *

乗算等に使われる*の位置について学ぶ。

Shiftキーを押しながら1234567890としてみよう。
以下のようになるはずだ。

    !@#$%^&*()

 *を入力するためには以下のようにする。

     Shift + 8

以下の練習をしてみよう。

    8*8=64
    8*11=88
    8*8+24=88
    3*7=21

### /

除算等に使われる/の位置について学ぶ。

以下のように打ち込んでみよう。

    azsxdcfvgbhnjmk,l.;/

左から順に中段下段中段下段と打ち込んでいる。
/は右小指の下段にあることがわかる。

以下の練習をしてみよう。

    1.5/0.5=3.0
    SSL/TSL
    2014/4/12
    // C-style single-line comment
    /* C-style comment */

### ^

文字^は「サーカムフレックス」と呼ぶ。
「ハット」とも呼ぶ。
また、「カレット」とも呼ぶが、本来は別の記号らしい。

Shiftキーを押しながら1234567890とする。
以下のように入力されるはずだ。

    !@#$%^&*()

^(ハット)を入力するには以下のようにする。

    Shift + 6

以下の練習をしてみよう。

    6^6=46656
    2^2^2=16

### ~

~の位置について学ぶ。
~は「チルダ」と呼ぶ。

Shiftキーを押しながら1234567890右へ右へ右へとする。

    !@#$%^&*()_+|~

チルダを入力するには以下のようにする。

    Shift + 「=の右の右」

以下の練習をしてみよう。

    ~/foo/bar

### ;

;の位置について学ぶ。
以下のように打ってみよう。

    asdfghjkl;

;を入力するには以下のようにする。

    ホームポジションで右手小指

以下の練習をしてみよう。

    print a; print b; print c;

### :

:の位置について学ぶ。
Shiftキーを押しながらasdfghkl;とする。

    ASDFGHJKL:

:を打つには以下のようにする。

    Shift + ホームポジションで左手小指

以下の練習をしてみよう。

    x :: Int; y :: Double; z :: Bool

### '

'はアポストロフィと呼ぶ。
本来は違うものだが一般的にはクォートとも呼ばれる。
また、シングルクォートとも呼ぶ。

以下のように入力してみよう。

    asdfghjkl;'

'を入力するには以下のようにする。

    ;のひとつ右

以下の練習をしてみよう。

    That's right.
    'a'

### "

"はダブルクォートと呼ばれる。

Shiftキーを押しながらasdfghjkl;を入力する。

    ASDFGHJKL:"

"を入力するには以下のようにする。

    Shift + '

以下の練習をしてみよう。

    You say "Good-bye."
    I say "Hello."

### \

\はバックスラッシュと呼ばれる。

以下のように入力してみよう。

    1234567890-=\`

\は以下のようにして入力できる。

    =のひとつ右

以下の練習をしてみよう。

    '\n' == '\x0a'
    \x -> x ^ x

### @

@はアットマークと呼ばれる。
Shiftキーを押しながら1234567890と入力する。

    !@#$%^&*()

@は以下のように入力する。

    Shift + 2

以下の練習をしてみよう。

    foo@gmail.com

### &

&はアンパサンドと読む。
Shiftキーを押しながら1234567890と入力する。

    !@#$%^&*()

&は以下のように入力する。

    Shift + 7

日本語キーボードとはひとつずれる。

以下の練習をしてみよう。

    True && False

### |

|はバーティカルバーと読む。

Shiftキーを押しながら1234567890右へ右へ右へ右へと入力

    !@#$%^&*()_+|~

|は以下のように入力する。

    Shift + \(=のひとつ右)

以下の練習をしてみよう。

    True || False

### ()

()は丸括弧やパーレンと呼ばれる。

Shiftキーを押しながら1234567890と入力する。

    !@#$%^&*()

パーレンは以下のように入力する。

    Shift + 9
    Shift + 0

日本語配列とはひとつずれる。

以下の練習をしてみよう。

    (1 + 2) * (3 - 4)

### _

_はアンダースコアと呼ぶ。
アンダーバーとも呼ばれるが、これは和製英語である。

Shiftキーを押しながら1234567890右へ右へ右へ右へ。

    !@#$%^&*()_+|~

_を入力するには以下のようにする。

    Shift + -

以下の練習をしてみよう。

    this_is_snake_case

### []

[]は角括弧またはブラケットと呼ぶ。

qwertyuiop右へ右へと入力してみよう。
以下のように入力されるはずだ。

    qwertyuiop[]

[]は以下のように入力できる。

    pの右
    さらにその右

以下の練習をしてみよう。

    ['a', 'b']

### {}

{}は波括弧またはブレースと呼ぶ。

Shiftキーを押しながらqwertyuiop右へ右へ。

    QWERTYUIOP{}

{}は以下のように入力できる。

    Shift + [
    Shift + ]

以下の練習をしてみよう。

    greeting {txt = "hello"}

### ?

Shiftキーを押しながらzxcvbnm右へ右へ右へ

    ZXCVBNM<>?

?は以下のように入力する。

    Shift + /

以下の練習をしてみよう。

    Is this a pen?
    No. This is a cabbage.

保存終了
--------

今までの練習の成果を一応保存しておこう。
挿入モードを抜けるのにEscキーを押す。
Escキーは左手小指を精一杯左上にのばすとある。

以下のように入力すると保存終了となる。

    :wq

まとめ
------

HHKB(英語配列)のキー配列について学んだ。
英語配列では、Shiftを押すことによる変化がある程度規則的である。

    Shiftによる変化
    -   ->   _
    '   ->   "
    ;   ->   :

また、[と]がちゃんと並んでいる。
日本語配列は無理にカナキーを押し込むことで、
ゆがんだキー配列になってしまっている。
カナ入力をしなければ日本語配列を使うメリットはない。
